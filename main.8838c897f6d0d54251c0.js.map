{"version":3,"sources":["webpack:///./templates/libraryHeader.hbs","webpack:///./js/apiService.js","webpack:///./templates/main-page.hbs","webpack:///./templates/search-page.hbs","webpack:///./js/intersectionObserver.js","webpack:///./js/scrollToBack.js","webpack:///./js/script.js","webpack:///./js/pagination.js","webpack:///./js/renderSearchFilm.js","webpack:///./js/renderMainPage.js","webpack:///./js/renderMyLibrary.js","webpack:///./js/header-logic.js","webpack:///./js/teamModal.js","webpack:///./index.js","webpack:///./js/handlerModal.js","webpack:///./templates/modal-markup.hbs","webpack:///./js/refs.js","webpack:///./templates/mainPageHeader.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","API_KEY","BASE_URL","MovieService","this","page","searchQuery","fetchMovies","url","responceHandler","searchMovie","filmSearchObject","results","map","film","release_date","split","id","title","backdrop_path","fetchMovieById","getGenre","movieID","filmObject","genres","element","name","fetch","responce","ok","json","Error","statusText","get","set","newPage","incrementPage","resetInput","newSearchQuery","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","IntersectionObserver","entries","forEach","entry","isIntersecting","imgApiService","query","rootMargin","window","addEventListener","document","documentElement","scrollTop","refs","scrollBackBtn","classList","add","remove","animateScrollTo","body","speed","maxDuration","require","getElementById","Pagination","totalItems","itemsPerPage","visiblePages","centerAlign","e","a","querySelector","target","contains","mainPageMarkupHandler","textContent","onLoadPage","searchServices","onSearch","preventDefault","loader","filmGalery","innerHTML","searchInput","value","massageError","films","renderGalleryFilms","renderGenreFilm","console","log","length","markup","handlebars","filmItemRefs","querySelectorAll","Array","from","filmItemRef","spanRefs","dataset","genere","mainPageHandler","wrapper","makeLibrayWatched","queueBtn","watchedBtn","removeClass","addClass","makeLibraryQueue","makeMarkup","JSON","parse","localStorage","getItem","watchedList","templates","button","activePaginationBtn","renderHederHandler","header","insertAdjacentHTML","mainHeader","searchForm","logo","nav","addListeners","onNavClick","evt","removeEventListener","onLoadMainPage","myLibHeader","onStudentBtnClick","teamModal","onEscPress","onCloseTeamModal","code","onBackdropClick","currentTarget","studentBtnClick","closeBtn","onCheckLocalStor","type","setItem","stringify","modal","getFilmServ","closest","current","poster_path","genresStr","reduce","acc","el","localW","localQ","buttons","readLocalStor","modalMarkup","modalBtns","modalImg","modalCloseBtn","onload","onerror","onButtonsClick","onCloseModal","localValue","find","text","css","toggle","localData","filmId","indexOf","splice","push","onLocalStorJob","currentTab","alias3","alias5","lambda","searchBtn","footer"],"mappings":"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","file":"main.8838c897f6d0d54251c0.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"header__block\\\">\\r\\n    <div class=\\\"header__logo\\\">\\r\\n      <i class=\\\"fas fa-film\\\"></i>\\r\\n      <span class=\\\"header__text\\\" href=\\\"#\\\">Filmoteka </span>\\r\\n    </div>\\r\\n\\r\\n    <nav class=\\\"navigation\\\">\\r\\n    <ul class=\\\"nav__ul main__text\\\">\\r\\n      <li class=\\\"nav__ul--item\\\">Home</li>\\r\\n      <li class=\\\"nav__ul--item current-page\\\">my library</li>\\r\\n    </ul>\\r\\n    </nav>\\r\\n  </div>\\r\\n\\r\\n  <ul class=\\\"header__library-btn\\\">\\r\\n    <li>\\r\\n      <button data-id=\\\"watched\\\" class=\\\"button btn button-active btn-watchd\\\">Watched</button>\\r\\n    </li>\\r\\n\\r\\n    <li>\\r\\n      <button  data-id=\\\"queue\\\" class=\\\"button  btn btn-queue\\\">QUEUE</button>\\r\\n    </li>\\r\\n  </ul>\\r\\n\";\n},\"useData\":true});","// import { data } from \"autoprefixer\";\r\n\r\nconst API_KEY = 'bb3f2a9bd6a374d8a5257ae7f0ad6ee7';\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\n\r\nexport default class MovieService {\r\n  constructor() {\r\n    this.page = 1;\r\n    this.searchQuery = '';\r\n  }\r\n\r\n  async fetchMovies() {\r\n    const url = `${BASE_URL}trending/movie/week?api_key=${API_KEY}&page=${this.page}`;\r\n    return this.responceHandler(url);\r\n  }\r\n\r\n  async searchMovie() {\r\n    const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${this.searchQuery}`;\r\n    const filmSearchObject = await this.responceHandler(url);\r\n    filmSearchObject.results = filmSearchObject.results.map(film => {\r\n      return {\r\n        release_date: film.release_date ? film.release_date.split('-')[0] : '',\r\n        id: film.id,\r\n        title: film.title,\r\n        backdrop_path: film.backdrop_path,\r\n      };\r\n    });\r\n    return filmSearchObject;\r\n  }\r\n\r\n  async fetchMovieById(id) {\r\n    //api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\r\n    const url = `${BASE_URL}movie/${id}?api_key=${API_KEY}`;\r\n    return this.responceHandler(url);\r\n  }\r\n\r\n  async getGenre(movieID) {\r\n    const url = `${BASE_URL}movie/${movieID}?api_key=${API_KEY}&language=en-US`;\r\n    const filmObject = await this.responceHandler(url);\r\n    return await filmObject.genres.map(element => element.name);\r\n  }\r\n\r\n  async responceHandler(url) {\r\n    try {\r\n      const responce = await fetch(url);\r\n      if (responce.ok) {\r\n        const data = await responce.json();\r\n        return data;\r\n      }\r\n      throw new Error(data.statusText);\r\n    } catch {\r\n      error => colsole.log(error);\r\n    }\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newSearchQuery) {\r\n    this.searchQuery = newSearchQuery;\r\n  }\r\n  get() {\r\n    return this.page;\r\n  }\r\n\r\n  set(newPage) {\r\n    this.page = newPage;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetInput() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":13},\"end\":{\"line\":2,\"column\":19}}}) : helper)))\n    + \"\\\" class=\\\"film__item\\\">\\r\\n    <div> \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":10},\"end\":{\"line\":9,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"film__item-desk-wrapp\\\">\\r\\n        <h3 class=\\\"film__item_title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":37},\"end\":{\"line\":12,\"column\":46}}}) : helper)))\n    + \"</h3>\\r\\n        <p class=\\\"film__item_description\\\"><span class=\\\"film__item--genre\\\"></span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre\") || (depth0 != null ? lookupProperty(depth0,\"genre\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":81},\"end\":{\"line\":13,\"column\":90}}}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":91},\"end\":{\"line\":13,\"column\":107}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n        <img class=\\\"film__item_picture\\\" src=\\\"https://image.tmdb.org/t/p/w220_and_h330_face\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":90},\"end\":{\"line\":4,\"column\":105}}}) : helper)))\n    + \"\\\"\\r\\n            alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":17},\"end\":{\"line\":5,\"column\":26}}}) : helper)))\n    + \"\\\" />\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"        <img src=\\\"https://www.smallacorn.co.uk/wp-content/uploads/2016/05/small-acorn-photo-of-a-baby-with-a-moustache-for-fun-fact-friday-week-20-babies-grow-moustaches-then-eat-them.jpg\\\"\\r\\n            alt=\\\"no-photo\\\">\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":16,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":13},\"end\":{\"line\":2,\"column\":19}}}) : helper)))\n    + \"\\\" class=\\\"film__item\\\">\\r\\n    <div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":8},\"end\":{\"line\":10,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\" film__item-desk-wrapp\\\">\\r\\n        <h3 class=\\\"film__item_title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":37},\"end\":{\"line\":13,\"column\":46}}}) : helper)))\n    + \"</h3>\\r\\n        <p class=\\\"film__item_description\\\"><span class=\\\"film__item--genre\\\"></span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre\") || (depth0 != null ? lookupProperty(depth0,\"genre\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":81},\"end\":{\"line\":14,\"column\":90}}}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":91},\"end\":{\"line\":14,\"column\":107}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <img class=\\\"film__item_picture\\\" src=\\\"https://image.tmdb.org/t/p/w220_and_h330_face\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"backdrop_path\") || (depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":90},\"end\":{\"line\":5,\"column\":107}}}) : helper)))\n    + \"\\\"\\r\\n            alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":17},\"end\":{\"line\":6,\"column\":26}}}) : helper)))\n    + \"\\\" />\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"        <img src=\\\"https://www.smallacorn.co.uk/wp-content/uploads/2016/05/small-acorn-photo-of-a-baby-with-a-moustache-for-fun-fact-friday-week-20-babies-grow-moustaches-then-eat-them.jpg\\\"\\r\\n            alt=\\\"no-photo\\\">\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":17,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const options = {\r\n  rootMargin: \"150px\",\r\n  // threshold: 0.1,\r\n};\r\n\r\nfunction onEntry(entries) {\r\n  entries.forEach((entry) => {\r\n    if (entry.isIntersecting && imgApiService.query !== \"\") {\r\n    }\r\n  });\r\n}\r\n\r\nconst Observer = new IntersectionObserver(onEntry, options);\r\n\r\nexport { Observer };\r\n","import refs from './refs';\r\n\r\nwindow.addEventListener('scroll', onScrollToBack);\r\n\r\nexport default function onScrollToBack() {\r\n  const getTop = document.documentElement.scrollTop;\r\n\r\n  if (getTop > 180) {\r\n    refs.scrollBackBtn.classList.add('is-active');\r\n  } else {\r\n    refs.scrollBackBtn.classList.remove('is-active');\r\n  }\r\n  refs.scrollBackBtn.addEventListener('click', () => {\r\n    animateScrollTo(refs.body, {\r\n      speed: 500,\r\n      maxDuration: 3000,\r\n    });\r\n  });\r\n}\r\n","import debounce from 'lodash.debounce';\r\nimport { error, success } from './pnotify';\r\nimport API from './apiService';\r\nimport LoadMoreBtn from './loadMoreBtn';\r\nimport handlebars from '../templates/main-page.hbs';\r\nimport animateScrollTo from 'animated-scroll-to';\r\nimport refs from './refs';\r\nimport { Observer } from './intersectionObserver';\r\nimport onScrollToBack from './scrollToBack';\r\n\r\n//Modal window handler.\r\nrequire('./handlerModal');\r\n","import Pagination from 'tui-pagination';\r\nimport 'tui-pagination/dist/tui-pagination.css';\r\nimport onLoadPage from './renderMainPage'\r\n\r\n\r\nconst container = document.getElementById('pagination');\r\n\r\nconst pagination = new Pagination(document.getElementById('pagination'), {\r\n    totalItems: `1000`,\r\n    itemsPerPage: `20`,\r\n    visiblePages: 5,\r\n    centerAlign: true,\r\n  });\r\n  container.addEventListener('click', onBtnClickHandler)\r\n  \r\n  \r\n  function onBtnClickHandler (e) {\r\n    const a = document.querySelector('.tui-is-selected')\r\n    if (!e.target.classList.contains('tui-page-btn')) {\r\n      return;\r\n    } \r\n      mainPageMarkupHandler.page = a.textContent;\r\n      onLoadPage()\r\n  };\r\n  export default container","import MovieService from '../js/apiService';\r\nimport handlebars from '../templates//search-page.hbs';\r\nimport refs from '../js/refs';\r\nimport container from './pagination'\r\n\r\nconst searchServices = new MovieService();\r\n\r\nasync function onSearch(e) {\r\n  e.preventDefault();\r\n\r\n  const loader = document.querySelector('.loader');\r\n  loader.classList.add('active');\r\n  refs.filmGalery.innerHTML = '';\r\n  searchServices.query = refs.searchInput.value;\r\n  container.classList.add('display-none');\r\n  if (searchServices.query === '') {\r\n    refs.massageError.classList.remove('hidden');\r\n    loader.classList.remove('active');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const films = await searchServices.searchMovie();\r\n    await renderGalleryFilms(films.results);\r\n    renderGenreFilm();\r\n    loader.classList.remove('active');\r\n  } catch (err) {\r\n    console.log('onSearch -> err', err);\r\n  }\r\n}\r\n\r\nfunction renderGalleryFilms(films) {\r\n  if (films.length===0){\r\n    refs.massageError.classList.remove('hidden');\r\n  } else {\r\n    refs.massageError.classList.add('hidden');\r\n  }\r\n  const markup = handlebars(films);\r\n  refs.filmGalery.innerHTML = markup;\r\n}\r\n\r\nasync function renderGenreFilm() {\r\n  const filmItemRefs = document.querySelectorAll('.film__item');\r\n  Array.from(filmItemRefs).forEach(async filmItemRef => {\r\n    const spanRefs = filmItemRef.querySelector('.film__item--genre');\r\n    const genere = await searchServices.getGenre(filmItemRef.dataset.id);\r\n    spanRefs.textContent = genere;\r\n  });\r\n}\r\n\r\nexport { onSearch, renderGenreFilm };\r\n","import MovieService from '../js/apiService';\r\nimport handlebars from '../templates/main-page.hbs';\r\nimport refs from '../js/refs';\r\nimport Pagination from 'tui-pagination';\r\nimport 'tui-pagination/dist/tui-pagination.css';\r\nimport { renderGenreFilm } from '../js/renderSearchFilm';\r\n// import container from './pagination'\r\n\r\nconst mainPageMarkupHandler = new MovieService();\r\nconst container = document.getElementById('pagination');\r\n\r\nexport default async function onLoadPage() {\r\n  const films = await mainPageMarkupHandler.fetchMovies();\r\n  mainPageHandler(films.results);\r\n  renderGenreFilm();\r\n  container.classList.remove('display-none');\r\n  refs.wrapper.innerHTML = '';\r\n}\r\n\r\nasync function mainPageHandler(films) {\r\n  const markup = handlebars(films);\r\n  refs.filmGalery.innerHTML = markup;\r\n}\r\n\r\nconst pagination = new Pagination(document.getElementById('pagination'), {\r\n  totalItems: `1000`,\r\n  itemsPerPage: `20`,\r\n  visiblePages: 5,\r\n  centerAlign: true,\r\n});\r\ncontainer.addEventListener('click', onBtnClickHandler);\r\n\r\nfunction onBtnClickHandler(e) {\r\n  const activePaginationBtn = document.querySelector('.tui-is-selected');\r\n\r\n  mainPageMarkupHandler.page = activePaginationBtn.textContent;\r\n  onLoadPage();\r\n}\r\n","import templates from '../templates/main-page.hbs';\r\nimport refs from './refs';\r\nimport container from './pagination';\r\n\r\nexport default function makeLibrayWatched() {\r\n  const queueBtn = document.querySelector('.btn-queue');\r\n  const watchedBtn = document.querySelector('.btn-watchd');\r\n\r\n  removeClass(queueBtn);\r\n  addClass(watchedBtn);\r\n\r\n  queueBtn.addEventListener('click', makeLibraryQueue);\r\n\r\n  const watched = JSON.parse(localStorage.getItem('watched'));\r\n  makeMarkup(watched);\r\n}\r\n\r\nfunction makeLibraryQueue() {\r\n  const queueBtn = document.querySelector('.btn-queue');\r\n  const watchedBtn = document.querySelector('.btn-watchd');\r\n\r\n  removeClass(watchedBtn);\r\n  addClass(queueBtn);\r\n\r\n  watchedBtn.addEventListener('click', makeLibrayWatched);\r\n\r\n  const queue = JSON.parse(localStorage.getItem('queue'));\r\n  makeMarkup(queue);\r\n}\r\n\r\nfunction makeMarkup(data) {\r\n  const watchedList = document.querySelector('.film__watched');\r\n\r\n  if (data.length === 0) {\r\n    watchedList.innerHTML = '';\r\n    refs.wrapper.innerHTML =\r\n      '<p class=\"glow\">List is empty. Add some films </p>';\r\n    return;\r\n  }\r\n  refs.wrapper.innerHTML = '';\r\n  watchedList.innerHTML = templates(data);\r\n}\r\n\r\nfunction removeClass(button) {\r\n  button.classList.remove('button-active');\r\n}\r\nfunction addClass(button) {\r\n  button.classList.add('button-active');\r\n  container.classList.add('display-none');\r\n}\r\n","import { onSearch } from '../js/renderSearchFilm';\r\nimport makeLibrayWatched from './renderMyLibrary';\r\nimport mainHeader from '../templates/mainPageHeader.hbs';\r\nimport myLibHeader from '../templates/libraryHeader.hbs';\r\nimport refs from './refs';\r\nimport onLoadPage from '../js/renderMainPage';\r\n\r\nexport default function renderHederHandler() {\r\n  refs.header.innerHTML = '';\r\n  refs.header.insertAdjacentHTML('beforeend', mainHeader());\r\n  refs.header.classList.remove('main__background--mylib');\r\n  refs.header.classList.add('main__background');\r\n\r\n  refs.searchInput = document.querySelector('.header__form--input');\r\n  refs.searchForm = document.querySelector('.header__form');\r\n  refs.logo = document.querySelector('.header__logo');\r\n  refs.nav = document.querySelector('.nav__ul');\r\n  refs.searchForm.addEventListener('submit', onSearch);\r\n  refs.massageError = document.querySelector('.header__text--error');\r\n  addListeners();\r\n}\r\n\r\nfunction onNavClick(evt) {\r\n  removeListeners();\r\n  if (evt.target.textContent === 'Home') {\r\n    onLoadMainPage();\r\n    refs.filmGalery.classList.remove('film__watched');\r\n  } else if (evt.target.textContent === 'my library') {\r\n    renderMyLibPage();\r\n    refs.filmGalery.classList.add('film__watched');\r\n    makeLibrayWatched();\r\n  }\r\n}\r\n\r\nfunction renderMyLibPage() {\r\n  refs.header.innerHTML = '';\r\n  refs.header.insertAdjacentHTML('beforeend', myLibHeader());\r\n  refs.header.classList.remove('main__background');\r\n  refs.header.classList.add('main__background--mylib');\r\n  refs.filmGalery.innerHTML = '';\r\n\r\n  refs.logo = document.querySelector('.header__logo');\r\n  refs.nav = document.querySelector('.nav__ul');\r\n\r\n  addListeners();\r\n}\r\n\r\nfunction addListeners() {\r\n  refs.logo.addEventListener('click', onLoadMainPage);\r\n  refs.nav.addEventListener('click', onNavClick);\r\n}\r\n\r\nfunction removeListeners() {\r\n  refs.nav.removeEventListener('click', onNavClick);\r\n  refs.logo.removeEventListener('click', onLoadMainPage);\r\n}\r\n\r\nfunction onLoadMainPage() {\r\n  onLoadPage();\r\n  renderHederHandler();\r\n}\r\n","import refs from './refs';\r\nexport { onStudentBtnClick, onBackdropClick, onCloseTeamModal };\r\n\r\nrefs.studentBtnClick.addEventListener('click', onStudentBtnClick);\r\nrefs.teamModal.addEventListener('click', onBackdropClick);\r\nrefs.closeBtn.addEventListener('click', onCloseTeamModal);\r\n\r\nfunction onStudentBtnClick() {\r\n  refs.teamModal.classList.remove('is-hidden');\r\n  document.addEventListener('keydown', onEscPress);\r\n  console.log(onStudentBtnClick);\r\n}\r\nconsole.log(onStudentBtnClick);\r\nfunction onCloseTeamModal() {\r\n  refs.teamModal.classList.add('is-hidden');\r\n}\r\n\r\nfunction onEscPress(e) {\r\n  if (e.code == 'Escape') {\r\n    onCloseTeamModal();\r\n  }\r\n}\r\n\r\nfunction onBackdropClick(e) {\r\n  if (e.currentTarget === e.target) {\r\n    onCloseTeamModal();\r\n  }\r\n}\r\n","import './styles/index.scss';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport './js/script';\r\nimport onLoadPage from './js/renderMainPage';\r\nimport refs from './js/refs';\r\nimport './js/renderMyLibrary';\r\nimport { onSearch, randerGenreFilm } from './js/renderSearchFilm';\r\nimport renderHederHandler from './js/header-logic';\r\nimport {\r\n  onStudentBtnClick,\r\n  onBackdropClick,\r\n  onCloseTeamModal,\r\n} from './js/teamModal';\r\nrefs.studentBtnClick.addEventListener('click', onStudentBtnClick);\r\nrefs.teamModal.addEventListener('click', onBackdropClick);\r\nrefs.closeBtn.addEventListener('click', onCloseTeamModal);\r\n// randerGenreFilm();\r\nonLoadPage();\r\nrenderHederHandler();\r\n","onCheckLocalStor('watched');\r\nonCheckLocalStor('queue');\r\nfunction onCheckLocalStor(type) {\r\n  const store = localStorage.getItem(type);\r\n  if (!store) {\r\n    localStorage.setItem(type, JSON.stringify([]));\r\n  }\r\n}\r\nconst modal = document.querySelector('.load__backdrop');\r\nmodal.addEventListener('click', e => {\r\n  if (e.currentTarget === e.target) {\r\n    modal.classList.add('is-hidden');\r\n  }\r\n});\r\n//HANDLER MODAL\r\nimport refs from './refs';\r\nimport modalMarkup from '../templates/modal-markup.hbs';\r\nimport MovieService from '../js/apiService';\r\n\r\nrefs.filmGalery.addEventListener('click', onCardFilmClick);\r\n\r\nconst getFilmServ = new MovieService();\r\n\r\nlet data = null;\r\n\r\nasync function onCardFilmClick(e) {\r\n  if (!e.target.closest('.film__item')) return;\r\n  modal.classList.remove('is-hidden');\r\n  modal.innerHTML = '<p class = \"load-text\">loading...</p>';\r\n  const current = e.target.closest('.film__item');\r\n  try {\r\n    data = await getFilmServ.fetchMovieById(current.dataset.id);\r\n    if (!data) {\r\n      modal.classList.add('is-hidden');\r\n      return;\r\n    }\r\n    if (!data.poster_path) {\r\n      data.poster_path = '/k2oBuTKSP0wALtOzH04dCqDfzYQ.jpg';\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n  data.genresStr = data.genres.reduce((acc, el) => acc + el.name + ', ', '');\r\n\r\n  const localW = JSON.parse(localStorage.getItem('watched'));\r\n  const localQ = JSON.parse(localStorage.getItem('queue'));\r\n  ///---------------------\r\n  data.buttons = {};\r\n\r\n  readLocalStor(localQ, 'queue');\r\n  readLocalStor(localW, 'watched');\r\n\r\n  refs.modal.innerHTML = modalMarkup(data);\r\n  const modalBtns = document.querySelector('.card-btns');\r\n  const modalImg = document.querySelector('.card-img > img');\r\n  const modalCloseBtn = document.querySelector(\r\n    '.modal__wrapper .modal_btn-close ',\r\n  );\r\n  modalImg.onload = modalImg.onerror = () => {\r\n    modal.classList.add('is-hidden');\r\n    refs.modal.classList.remove('is-hidden');\r\n    window.addEventListener('keydown', onEscPress);\r\n    refs.modal.addEventListener('click', onBackdropClick);\r\n    modalBtns.addEventListener('click', onButtonsClick);\r\n    modalCloseBtn.addEventListener('click', onCloseModal);\r\n  };\r\n}\r\nfunction readLocalStor(localValue, type) {\r\n  if (localValue.length) {\r\n    const film = localValue.find(el => el.id == data.id);\r\n    if (film) {\r\n      data.buttons[type] = {\r\n        text: film.buttons[type].text,\r\n        css: film.buttons[type].css,\r\n      };\r\n    } else {\r\n      data.buttons[type] = {\r\n        text: `add to ${type}`,\r\n        css: ``,\r\n      };\r\n    }\r\n  } else {\r\n    data.buttons[type] = {\r\n      text: `add to ${type}`,\r\n      css: ``,\r\n    };\r\n  }\r\n}\r\n\r\nfunction onCloseModal() {\r\n  refs.modal.classList.add('is-hidden');\r\n  window.removeEventListener('keydown', onEscPress);\r\n  document\r\n    .querySelector('.card-btns')\r\n    .removeEventListener('click', onButtonsClick);\r\n}\r\n\r\nfunction onEscPress(e) {\r\n  if (e.code == 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction onBackdropClick(e) {\r\n  if (e.currentTarget === e.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n//----------------\r\nfunction onButtonsClick(e) {\r\n  if (!e.target.classList.contains('button')) return;\r\n  e.target.classList.toggle('is-active');\r\n  if (e.target.classList.contains('is-active')) {\r\n    e.target.textContent = `delete from ${e.target.dataset.id}`;\r\n  } else {\r\n    e.target.textContent = `add to ${e.target.dataset.id}`;\r\n  }\r\n\r\n  data.buttons[e.target.dataset.id] = {\r\n    text: `delete from ${e.target.dataset.id}`,\r\n    css: 'is-active',\r\n  };\r\n  onLocalStorJob(e);\r\n  // document.querySelector('.header').classList.contains('main__background--mylib')\r\n  // if (refs.filmGalery.classList.contains('film__watched')) {\r\n  if (\r\n    document\r\n      .querySelector('.header')\r\n      .classList.contains('main__background--mylib')\r\n  ) {\r\n    const currentTab = document.querySelector(\r\n      '.main__background--mylib .button-active',\r\n    );\r\n    if (e.target.dataset.id == currentTab.dataset.id) {\r\n      // console.log('tyt');\r\n      const info = JSON.parse(localStorage.getItem(e.target.dataset.id));\r\n      makeMarkup(info);\r\n    }\r\n  }\r\n}\r\n//----\r\nimport templates from '../templates/main-page.hbs';\r\nfunction makeMarkup(data) {\r\n  const watchedList = document.querySelector('.film__watched');\r\n\r\n  if (data.length === 0) {\r\n    watchedList.innerHTML = '';\r\n    refs.wrapper.innerHTML =\r\n      '<p class=\"glow\">List is empty. Add some films </p>';\r\n    return;\r\n  }\r\n  refs.wrapper.innerHTML = '';\r\n  watchedList.innerHTML = templates(data);\r\n}\r\n//-------\r\nfunction onLocalStorJob(e) {\r\n  const localData = JSON.parse(localStorage.getItem(e.target.dataset.id));\r\n  const filmId = localData.map(el => el.id).indexOf(data.id);\r\n  if (filmId >= 0) {\r\n    localData.splice(filmId, 1);\r\n    localStorage.setItem(e.target.dataset.id, JSON.stringify(localData));\r\n  } else {\r\n    localData.push(data);\r\n    localStorage.setItem(e.target.dataset.id, JSON.stringify(localData));\r\n  }\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <div class=\\\"modal__wrapper\\\">\\r\\n        <div class=\\\"card__box\\\">\\r\\n          <button class=\\\"modal_btn-close\\\" type=\\\"button\\\">\\r\\n            <i class=\\\"fas fa-times\\\"></i>\\r\\n          </button>\\r\\n\\r\\n\\r\\n          <div class=\\\"card-img\\\">\\r\\n            <img class=\\\"\\\" src=\\\"https://image.tmdb.org/t/p/w400\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":62},\"end\":{\"line\":10,\"column\":77}}}) : helper)))\n    + \"\\\" width=\\\"280\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":96},\"end\":{\"line\":10,\"column\":105}}}) : helper)))\n    + \"\\\" />\\r\\n          </div>\\r\\n\\r\\n          <div>\\r\\n            <div class=\\\"card-header\\\">\\r\\n              <h1 class=\\\"card-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":37},\"end\":{\"line\":15,\"column\":46}}}) : helper)))\n    + \"</h1>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"rating\\\">\\r\\n              <ul class=\\\"rating-title\\\">\\r\\n                <li>Vote / Votes</li>\\r\\n                <li>Popularity</li>\\r\\n                <li>Original Title</li>\\r\\n                <li>Genre</li>\\r\\n              </ul>\\r\\n              <ul class=\\\"rating-data\\\">\\r\\n                <li>\\r\\n                  <span class=\\\"first\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":38},\"end\":{\"line\":27,\"column\":54}}}) : helper)))\n    + \"</span> /\\r\\n                  <span class=\\\"second\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":39},\"end\":{\"line\":28,\"column\":53}}}) : helper)))\n    + \"</span>\\r\\n                </li>\\r\\n                <li>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":20},\"end\":{\"line\":30,\"column\":34}}}) : helper)))\n    + \"</li>\\r\\n                <li>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":20},\"end\":{\"line\":31,\"column\":38}}}) : helper)))\n    + \"</li>\\r\\n                <li>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genresStr\") || (depth0 != null ? lookupProperty(depth0,\"genresStr\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genresStr\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":32,\"column\":20},\"end\":{\"line\":32,\"column\":33}}}) : helper)))\n    + \"</li>\\r\\n              </ul>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"descript\\\">\\r\\n              <p class=\\\"descript-title\\\">About</p>\\r\\n              <p class=\\\"descript-text\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":38,\"column\":39},\"end\":{\"line\":38,\"column\":51}}}) : helper)))\n    + \"</p>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card-btns\\\">\\r\\n              <button data-id=\\\"watched\\\" class=\\\"button btn-watched \"\n    + alias4(alias5(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"buttons\") : depth0)) != null ? lookupProperty(stack1,\"watched\") : stack1)) != null ? lookupProperty(stack1,\"css\") : stack1), depth0))\n    + \"\\\">\\r\\n                \"\n    + alias4(alias5(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"buttons\") : depth0)) != null ? lookupProperty(stack1,\"watched\") : stack1)) != null ? lookupProperty(stack1,\"text\") : stack1), depth0))\n    + \"\\r\\n              </button>\\r\\n              <button data-id=\\\"queue\\\" class=\\\"button btn-queue \"\n    + alias4(alias5(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"buttons\") : depth0)) != null ? lookupProperty(stack1,\"queue\") : stack1)) != null ? lookupProperty(stack1,\"css\") : stack1), depth0))\n    + \"\\\">\\r\\n                \"\n    + alias4(alias5(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"buttons\") : depth0)) != null ? lookupProperty(stack1,\"queue\") : stack1)) != null ? lookupProperty(stack1,\"text\") : stack1), depth0))\n    + \"\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"useData\":true});","const refs = {\r\n  teamModal: document.querySelector('.team_backdrop'),\r\n  studentBtnClick: document.querySelector('.copyright__link'),\r\n  closeBtn: document.querySelector('[data-action = \"close-modal\"]'),\r\n  modal: document.querySelector('.modal__backdrop'),\r\n  filmGalery: document.querySelector('.film__list'),\r\n  searchBtn: document.querySelector('.search-btn-js'),\r\n  searchInput: document.querySelector('.header__form--input'),\r\n  searchForm: document.querySelector('.header__form'),\r\n  header: document.querySelector('header'),\r\n  body: document.querySelector('body'),\r\n  logo: document.querySelector('.header__logo'),\r\n  nav: document.querySelector('.nav__ul'),\r\n  footer: document.querySelector('.footer'),\r\n  scrollBackBtn: document.querySelector('.scroll-up'),\r\n  wrapper: document.querySelector('.wrapper'),\r\n};\r\n\r\nexport default refs;\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"header__block\\\">\\r\\n    <div class=\\\"header__logo\\\">\\r\\n      <i class=\\\"fas fa-film\\\"></i>\\r\\n        <span class=\\\"header__text\\\" href=\\\"#\\\">Filmoteka </span>\\r\\n    </div>\\r\\n\\r\\n    <nav class=\\\"navigation\\\">\\r\\n    <ul class=\\\"nav__ul main__text\\\">\\r\\n      <li class=\\\"nav__ul--item current-page\\\">Home</li>\\r\\n      <li class=\\\"nav__ul--item\\\">my library</li>\\r\\n    </ul>\\r\\n    </nav>\\r\\n  </div>\\r\\n\\r\\n  <form action=\\\"\\\" name=\\\"searchFilm\\\" autocomplete=\\\"off\\\" class=\\\"header__form\\\">\\r\\n    <div class=\\\"header__form-block\\\">\\r\\n      <div class=\\\"loader\\\"></div>\\r\\n      <input\\r\\n        class=\\\"header__form--input\\\"\\r\\n        type=\\\"text\\\"\\r\\n        placeholder=\\\"Поиск фильмов\\\"\\r\\n        id=\\\"search\\\"\\r\\n      />\\r\\n      <p class=\\\"header__text--error hidden\\\">Search result not successful. Enter the correct movie name and</p>\\r\\n      <button class=\\\"header__form-btn search-btn-js pagination__btn\\\" type=\\\"submit\\\">\\r\\n        <i class=\\\"fas fa-search\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}